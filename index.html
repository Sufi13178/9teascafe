<html>
<head>
<link rel="stylesheet" href="registercss.css" />
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
</head>
<title>
</title>
<body>
<div class="form" id="form1">
<form id="dataForm">
      <div class="title">Welcome</div>
      <div class="subtitle">Let's create your account!</div>
      <div class="input-container ic1">
        <input id="firstname" name="f_name" class="input" type="text" placeholder=" " />
        <div class="cut"></div>
        <label for="firstname" class="placeholder">First name</label>
      </div>
      <div class="input-container ic2">
        <input id="lastname" class="input" name="l_name" type="text" placeholder=" " />
        <div class="cut"></div>
        <label for="lastname" class="placeholder">Last name</label>
      </div>
	<div class="input-container ic2">
        <input id="mobno" class="input" type="text" name="what_no" placeholder=" " />
        <div class="cut cut-short"></div>
        <label for="=mobno" class="placeholder">whatsapp no</>
      </div>
       <button type="button" class="submit" id="button1">submit</button>
</form>
    </div>
<div class="form" style="display:none;" id="form2">
<div class="row">
<div class="card" style="width: 18rem;">
   <div class="card-body">
    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
  </div>
</div>
<div class="card" style="width: 18rem;">
   <div class="card-body">
    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
  </div>
</div>
<div class="card" style="width: 18rem;">
   <div class="card-body">
    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
  </div>
</div>
<div class="card" style="width: 18rem;">
   <div class="card-body">
    <p class="card-text">Some quick example text to build on the card title and make up the bulk of the card's content.</p>
  </div>
</div>
</div>
</div>
<script>

$("#button1").click(function(){
submitToGoogleSheet()
	$('#form1').css('display','none')
	$('#form2').css('display','block');
});

 const scriptURL = 'https://script.google.com/macros/s/AKfycbwNfD1MuGUBPwG1g9GyDLzeOewU5q2WresLUzYqwF8blIiiRWIBTIEu2ksGkiY5fWEH/exec'; 

        async function submitToGoogleSheet() {
            const form = document.getElementById('dataForm');
            const formData = new FormData(form);

            const data = {
                first_name: formData.get('f_name'),
                last_name: formData.get('l_name'),
                whatsapp_no: formData.get('what_no'),
            };
console.log(data)
            try {
                const response = await fetch(scriptURL, {
                    method: 'POST',
                    body: JSON.stringify(data),
                    headers: { 'Content-Type': 'application/json','Access-Control-Allow-Origin': '*'},
                });

                if (response.ok) {
                    const result = await response.json();
                    alert('Data submitted successfully!');
                } else {
                    throw new Error('Failed to submit data.');
                }
            } catch (error) {
                console.error('Error:', error);
                alert('Error submitting data.');
            }
        }


</script>
</body>
</html>
